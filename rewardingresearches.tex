\section{Rewarding Researchers}

TODO: fix formulas so that they appear correctly

Gridcoin does not only want to reward holders of the coin (as in pure proof-of-stake coins such as Peercoin), but wants to reward researchers. Because of this there is an additional reward depending on the amount of research done. This information is read from a superblock. In some blocks, so called superblocks, the majority opinion from the distributed Neural Network, which user has done how much work is also saved as a hash. These blocks are generated once a day. The current amount of research done by each CPID stored in the last superblock can be viewed on [SUPER]. If a node gets chosen and the hash this node contains about the amount of work done by each user is the same as the majority hash stored in the Neural Network, then this node gets to stake the next block and everything starts again. If the hash is not the same as the majority hash, the node gets ?punished? for trying to cheat the system and does not stake, but chooses the next node that gets a chance to stake. The actual reward the node gets then depends on the RAC for each project for this user as stored in the superblock.

At first the amount of coins per project this user would get if he was only running this project is computed:
\[ coinsPerProject = (averageUserProjectRACsincelastPayment /
averageTeamGridcoin ProjectRACsinclelastPayment) * Time since last payment in days * coinSupplyPerProjectPerDay \]

As of now the dailyCoinSupplyPerProject is the same for each project, so
\[ coinResearchSupplyPerProjectPerDay = dailyResearchyCoinSupply/nbProjects \]

averageUserProjectRACsincelastPayment and averageTeamGridcoinProjectRACsinclelastPayment means that in case there were several superblocks since the last payment the average RAC of all those superblocks is used.

The research reward is then the sum of the rewards for each whitelisted project:

\[ researchRewardForNode = sum of  coinsPerProject  over all whitelisted projects \]


The totalRewardPerNode  is then the reward for the research done by this node plus the reward that any node gets for staking a block:
\[ totalRewardPerNode = inflationRewardForNode +  researchRewardForNode \]

The inflationRewardForNode depends on the time that passed since the last stake is chosen in a way that it leads to an interest rate of 1.5% per year.

The rewards that contain only inflationRewardForNode and no researchRewardForNode
are often called PoS (Proof of Stake) rewards, whereas the rewards containing inflationRewardForNode plus researchRewardForNode are called Proof of Research rewards.
